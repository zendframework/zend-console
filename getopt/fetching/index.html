<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Zend\Console">  
    <link rel="shortcut icon" href="../../img/favicon.ico">

    <title>Fetching Options and Arguments - zend-console</title>

    <link rel="stylesheet" href="../../css/styles-e3f3751b65.css">
</head>
<body id="page-top">

    
    <div class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">

            
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            
            <span class="navbar-brand">
                <a class="logo-link" href="https://framework.zend.com/" data-tooltip data-placement="bottom" title="Go to the ZF homepage">
                    <img src="../../img/zend-framework-logo.svg" height="28" alt="Zend Framework">
                </a>
            </span>
        </div>

        <div class="navbar-collapse collapse">

            
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="https://framework.zend.com/about">About</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/downloads">Install</a>
                </li>
                <li class="active">
                    <a href="https://docs.zendframework.com">Documentation</a>
                </li>
                <li>
                    <a href="https://www.zend.com/en/services/training">Training</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/blog">Blog</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/participate">Participate</a>
                </li>
            </ul>

            
            
                <div class="nav navbar-nav navbar-collapse visible-xs-block ">
                    <div class="subnavigation hidden-print">
    <h4 class="subnavigation__title">
        <a href="../..">zend-console</a>
    </h4>

    <h5 class="subnavigation__subtitle">Table of Contents</h5>

    <ul class="subnavigation__list">
        
            
                <li class="subnavigation__list-item ">
                    <a href="../.." class="subnavigation__link">zend-console</a>
                </li>
            
        
            
                <li class="subnavigation__list-item ">
                    <a href="../../intro/" class="subnavigation__link">Intro</a>
                </li>
            
        
            
                <li class="subnavigation__list-item">
                    <span class="subnavigation__headline">Reference</span>
                    <ul class="subnavigation__list">
                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../adapter/" class="subnavigation__link">Console Adapters</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../prompts/" class="subnavigation__link">Console Prompts</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../routes/" class="subnavigation__link">Routes</a>
    </li>

                        
                    </ul>
                </li>
            
        
            
                <li class="subnavigation__list-item">
                    <span class="subnavigation__headline">MVC Integration</span>
                    <ul class="subnavigation__list">
                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../mvc/routing/" class="subnavigation__link">MVC Routing</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../mvc/modules/" class="subnavigation__link">Console-Aware Modules</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../mvc/controllers/" class="subnavigation__link">Console-Aware Controllers</a>
    </li>

                        
                    </ul>
                </li>
            
        
            
                <li class="subnavigation__list-item">
                    <span class="subnavigation__headline">Getopt</span>
                    <ul class="subnavigation__list">
                        
                            
    <li class="subnavigation__list-item ">
        <a href="../intro/" class="subnavigation__link">Introduction</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../rules/" class="subnavigation__link">Declaring Rules</a>
    </li>

                        
                            
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">Fetching Options and Arguments</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../configuration/" class="subnavigation__link">Configuration</a>
    </li>

                        
                    </ul>
                </li>
            
        
    </ul>
</div>
                </div>
            

            
            <div class="nav navbar-nav navbar-collapse visible-xs-block">
                <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
            </div>
        </div>
    </div>
</div>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-xs-8">
                <h1 class="header__title">
                    Documentation

                    
                        <small class="header__subtitle">zend-console</small>
                    
                </h1>
            </div>

            
            <div class="col-xs-4 text-right">
                
                    <a href="#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/zendframework/zend-console/" class="header__link header__link--github" title="Go to repository of zend-console">
                        <i class="fa fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-xs-12 content" role="main">
                
                    <ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
  <li><a href="https://framework.zend.com/">Home</a></li>
  <li><a href="https://docs.zendframework.com/">Docs</a></li>
  <li><a href="../..">zend-console</a></li>
  
    
      
        <li>Getopt</li>
      
    
  
  <li class="active">Fetching Options and Arguments</li>
</ol>


    
    

    
    
        <div class="toc">
            <h6 class="toc__headline">In This Article</h6>
            <ul class="toc__list">
                
                    <li class="toc__entry">
                        <a href="#handling-getopt-exceptions" class="toc__link">Handling Getopt Exceptions</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#fetching-options-by-name" class="toc__link">Fetching Options by Name</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#reporting-options" class="toc__link">Reporting Options</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#fetching-non-option-arguments" class="toc__link">Fetching Non-option Arguments</a>
                    </li>
                
            </ul>
        </div>
    


    <h1 id="fetching-options-and-arguments">Fetching Options and Arguments</h1>
<p>After you have declared the options that the <code>Zend\Console\Getopt</code> object should
recognize, and supplied arguments from the command-line or an array, you can
query the object to find out which options were specified by a user in a given
command-line invocation of your program. The class implements magic methods so
you can query for options by name.</p>
<p>The parsing of the data is deferred until the first query you make against the
<code>Zend\Console\Getopt</code> object to find out if an option was given.  This allows
you to use several method calls to configure the options, arguments, help
strings, and configuration options before parsing takes place.</p>
<h2 id="handling-getopt-exceptions">Handling Getopt Exceptions</h2>
<p>If the user gave any invalid options on the command-line, the parsing function
throws a <code>Zend\Console\Exception\RuntimeException</code>. You should catch this
exception in your application code. You can use the <code>parse()</code> method to force
the object to parse the arguments. This is useful because you can invoke
<code>parse()</code> in a <code>try</code> block; if it passes, you can be sure that the parsing won't
throw an exception again. The exception thrown has a custom method
<code>getUsageMessage()</code> which returns as a string the formatted set of usage
messages for all declared options.</p>
<h3 id="catching-getopt-exceptions">Catching Getopt Exceptions</h3>
<pre class="codehilite"><code class="language-php">try {
    $opts = new Zend\Console\Getopt('abp:');
    $opts-&gt;parse();
} catch (Zend\Console\Exception\RuntimeException $e) {
    echo $e-&gt;getUsageMessage();
    exit;
}</code></pre>

<p>Cases where parsing throws an exception include:</p>
<ul>
<li>Option given is not recognized.</li>
<li>Option requires a parameter but none was given.</li>
<li>Option parameter is of the wrong type; e.g. a non-numeric string when an
  integer was required.</li>
</ul>
<h2 id="fetching-options-by-name">Fetching Options by Name</h2>
<p>You can use the <code>getOption()</code> method to query the value of an option. If the
option had a parameter, this method returns the value of the parameter. If the
option had no parameter but the user did specify it on the command-line, the
method returns <code>TRUE</code>. Otherwise the method returns <code>NULL</code>.</p>
<h3 id="using-getoption">Using getOption()</h3>
<pre class="codehilite"><code class="language-php">$opts = new Zend\Console\Getopt('abp:');
$b = $opts-&gt;getOption('b');
$p_parameter = $opts-&gt;getOption('p');</code></pre>

<p>Alternatively, you can use the property overloading via the magic <code>__isset()</code> and
<code>__get()</code> methods, allowing you to test for and retrieve values as if they were
property names.</p>
<h3 id="using-property-overloading">Using property overloading</h3>
<pre class="codehilite"><code class="language-php">$opts = new Zend\Console\Getopt('abp:');
if (isset($opts-&gt;b)) {
    echo &quot;I got the b option.\n&quot;;
}
$p_parameter = $opts-&gt;p; // null if not set</code></pre>

<blockquote>
<h3 id="using-aliases">Using aliases</h3>
<p>If your options are declared with aliases, you may use any of the aliases for
an option when retrieving its value.</p>
</blockquote>
<h2 id="reporting-options">Reporting Options</h2>
<p>There are several methods to report the full set of options given by the user on the current
command-line.</p>
<ul>
<li>As a string: use the <code>toString()</code> method. The options are returned as a
  space-separated string of <code>flag=value</code> pairs. The value of an option that does
  not have a parameter is the literal string "<code>TRUE</code>".</li>
<li>As an array: use the <code>toArray()</code> method. The options are returned in a simple
  integer-indexed array of strings, the flag strings followed by parameter
  strings, if any.</li>
<li>As a string containing JSON data: use the <code>toJson()</code> method.</li>
<li>As a string containing XML data: use the <code>toXml()</code> method.</li>
</ul>
<p>In all of the above dumping methods, the flag strings are the first strings in
the corresponding list of aliases. For example, if the option aliases were
declared like <code>verbose|v</code>, then the first string, <code>verbose</code>, is used as the
canonical name of the option. The name of the option flag does not include any
preceding dashes.</p>
<h2 id="fetching-non-option-arguments">Fetching Non-option Arguments</h2>
<p>After option arguments and their parameters have been parsed from the
command-line, there may be additional arguments remaining. You can query these
arguments using the <code>getRemainingArgs()</code> method.  This method returns an array
of the strings that were not part of any options.</p>
<h3 id="using-getremainingargs">Using getRemainingArgs()</h3>
<pre class="codehilite"><code class="language-php">$opts = new Zend\Console\Getopt('abp:');
$opts-&gt;setArguments(['-p', 'p_parameter', 'filename']);
$args = $opts-&gt;getRemainingArgs(); // returns ['filename']</code></pre>

<p><code>Zend\Console\Getopt</code> supports the GNU convention that an argument consisting of
a double-dash signifies the end of options. Any arguments following this
signifier must be treated as non-option arguments. This is useful if you might
have a non-option argument that begins with a dash. For example: <code>rm --
-filename-with-dash</code>.</p>



    <nav>
    <ul class="page-nav hidden-print">

        
        <li class="page-nav__item">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="../rules/">
                    <i class="fa fa-chevron-left"></i> Previous
                </a>
            
        </li>

        
        <li class="page-nav__item">
            
                <a rel="next" class="page-nav__link page-nav__link--next" href="../configuration/">
                    Next <i class="fa fa-chevron-right"></i>
                </a>
            
        </li>
    </ul>
</nav>


<div class="help-wanted">
    <p>
        Found a mistake or want to contribute to the documentation?
        <a href="https://github.com/zendframework/zend-console/edit/master/docs/getopt/fetching.md" target="_blank" class="help-wanted__link">
            Edit this page on GitHub!
        </a>
    </p>
</div>
                
            </div>
            <div class="col-md-3 col-xs-12 sidebar">
                
                    <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
                    <div class="subnavigation hidden-print">
    <h4 class="subnavigation__title">
        <a href="../..">zend-console</a>
    </h4>

    <h5 class="subnavigation__subtitle">Table of Contents</h5>

    <ul class="subnavigation__list">
        
            
                <li class="subnavigation__list-item ">
                    <a href="../.." class="subnavigation__link">zend-console</a>
                </li>
            
        
            
                <li class="subnavigation__list-item ">
                    <a href="../../intro/" class="subnavigation__link">Intro</a>
                </li>
            
        
            
                <li class="subnavigation__list-item">
                    <span class="subnavigation__headline">Reference</span>
                    <ul class="subnavigation__list">
                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../adapter/" class="subnavigation__link">Console Adapters</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../prompts/" class="subnavigation__link">Console Prompts</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../routes/" class="subnavigation__link">Routes</a>
    </li>

                        
                    </ul>
                </li>
            
        
            
                <li class="subnavigation__list-item">
                    <span class="subnavigation__headline">MVC Integration</span>
                    <ul class="subnavigation__list">
                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../mvc/routing/" class="subnavigation__link">MVC Routing</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../mvc/modules/" class="subnavigation__link">Console-Aware Modules</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../../mvc/controllers/" class="subnavigation__link">Console-Aware Controllers</a>
    </li>

                        
                    </ul>
                </li>
            
        
            
                <li class="subnavigation__list-item">
                    <span class="subnavigation__headline">Getopt</span>
                    <ul class="subnavigation__list">
                        
                            
    <li class="subnavigation__list-item ">
        <a href="../intro/" class="subnavigation__link">Introduction</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../rules/" class="subnavigation__link">Declaring Rules</a>
    </li>

                        
                            
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">Fetching Options and Arguments</a>
    </li>

                        
                            
    <li class="subnavigation__list-item ">
        <a href="../configuration/" class="subnavigation__link">Configuration</a>
    </li>

                        
                    </ul>
                </li>
            
        
    </ul>
</div>
                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <h5>Zend Framework</h5>
                <ul>
                    <li><a href="https://framework.zend.com/">framework.zend.com</a></li>
                    <li><a href="https://docs.zendframework.com">docs.zendframework.com</a></li>
                    <li><a href="https://packages.zendframework.com">packages.zendframework.com</a></li>
                    <li><a href="https://apigility.org">apigility.org</a></li>
                    <li><a href="https://getexpressive.org/">getexpressive.org</a></li>
                </ul>
            </div>
        </div>

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">

            
            <div class="col-md-9">
                <h4 class="footer__headline">Copyright</h4>
                <p>&copy; 2006-2018 by <a href="https://www.zend.com/">Zend</a>, a <a href="https://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            
            <div class="col-md-3">
                <h4 class="footer__headline">Support</h4>
                <ul class="support__list">
                    <li class="support__list-item">
                        <a href="https://discourse.zendframework.com" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://zendframework-slack.herokuapp.com" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://github.com/zendframework" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://twitter.com/zfdevteam" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

    <script>
        var base_url = '../..',
            siteName = 'zend-console';
    </script>
    <script src="../../js/scripts-dcbafde59f.js"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>



</body>


</html>
